<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2QLN8HM2DM"
    ></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Monster Stamp Rally</title>

    <link rel="manifest" href="/manifest.json" />
    <meta name="description" content="Monster Stamp Rally" />
    <meta name="theme-color" content="#2F3BA2" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Monster Stamp Rally" />
    <link rel="apple-touch-icon" href="/logo.png" />

    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/build/bundle.css" />
    <script defer src="/build/bundle.js"></script>
  </head>

  <body>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then((registration) => {
              console.log(
                `Service Worker registered! Scope: ${registration.scope}`
              );
              // registration.addEventListener("updatefound", () => {
              //   // An updated service worker has appeared
              //   newWorker = registration.installing;
              //   newWorker.addEventListener("statechange", () => {
              //     // Has service worker state changed?
              //     switch (newWorker.state) {
              //       case "installed":
              //         // There is a new service worker available
              //         if (navigator.serviceWorker.controller) {
              //           newWorker.postMessage({ action: "skipWaiting" });
              //         }
              //         break;
              //     }
              //   });
              // });
              registration.update();
            })
            .catch((err) => {
              console.log(`Service Worker registration failed: ${err}`);
            });
        });
      }
    </script>
  </body>
</html>
